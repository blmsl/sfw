<mat-card [formGroup]="form">
  <mat-card-title>
    <mat-icon>mode_edit</mat-icon>
    {{ 'general.menu.category.edit' | translate}}
  </mat-card-title>

  <mat-card-content *ngIf="category; else loadingTemplate">

    <div fxLayout.gt-sm="row"
         fxLayout="column"
         fxLayoutGap="10px"
         *ngIf="categoryTypes$ | async as categoryTypes; else loadingTemplate">

      <mat-form-field fxFlex="100"
                      hintLabel="Max {{titleMaxLength}} characters">
        <input matInput maxlength="{{titleMaxLength}}"
               placeholder="{{'general.categories.list.colTitles.title' | translate}}"
               formControlName="title">
        <mat-hint align="end">{{form.get('title').value.length || 0}}/{{titleMaxLength}}</mat-hint>
      </mat-form-field>

      <mat-form-field fxFlex="100">
        <mat-select placeholder="{{'general.categories.list.colTitles.category' | translate}}"
                    formControlName="assignedCategoryType">
          <mat-option *ngFor="let categoryType of categoryTypes | orderBy: 'link'"
                      [value]="categoryType.id">
            {{ 'general.menu.' + categoryType.link + '.main' | translate}}
          </mat-option>
        </mat-select>
        <mat-hint align="end">
          {{'general.categories.edit.categoryDefaultPlaceholder' | translate }}
        </mat-hint>
      </mat-form-field>
    </div>

    <div style="margin-top: 25px">
      <label>{{'general.categories.edit.descriptionPlaceHolder' | translate}}</label>
      <quill-editor [style]="{height: '250px'}"
                    formControlName="description"
                    placeholder="{{'general.categories.edit.descriptionPlaceHolder' | translate}}">
      </quill-editor>
    </div>

  </mat-card-content>
</mat-card>


<ng-template #loadingTemplate>
  <loading-indicator></loading-indicator>
</ng-template>

<div class="page-wrap"
     *ngIf="categoryTypes$ | async as categoryTypes; else loadingTemplate"
     [formGroup]="form">

  <div class="header" *ngIf="article; else loadingTemplate">

    <div fxLayout="row"
         >

      <div fxFlex.gt-sm="88"
           fxFlex="100">
        <h2 class="title">Title</h2>
        <input class="title-document"
               type="text"
               placeholder="Ein ganz toller Titel für diesen blöden Artikel ..."
               formControlName="title">
      </div>

      <div fxFlex.gt-sm="12"
           fxFlex="100">
        <div class="button-row">
          <button mat-raised-button
                  [matMenuTriggerFor]="menu">Publish &darr;</button>

          <button mat-icon-button (click)="notifications.toggle()">
            <mat-icon>settings</mat-icon>
          </button>
        </div>

        <mat-menu #menu="matMenu" formGroupName="publication">
          <div style="padding: 10px 20px;">
            <h4>Ready to publish your post?</h4>

            <mat-radio-group class="radio-group"
                             formControlName="status">
              <mat-radio-button (click)="changeStatus(publication.value)"
                                class="radio-button"
                                *ngFor="let publication of publicationOptions"
                                [value]="publication.value" style="margin: 10px 0">
                {{publication.text}}<br/>
                <span style="color: #cecece">{{publication.description}}</span>
              </mat-radio-button>
            </mat-radio-group>

            <hr style="margin: 25px 0;"/>

            <div class="button-row">
              <button mat-button type="button">Cancel</button>
              <button mat-raised-button type="button" color="primary">Publish</button>
            </div>
          </div>
        </mat-menu>

      </div>
      <mat-sidenav #notifications
                   position="end"
                   class="chat-panel"
                   mode="over"
                   fxFlex="60"
                   opened="false">
        <!--<article-edit-sidebar (remove)="remove()"
                              [categoryTypes]="categoryTypes | categoryFilter : 'link' : ['article.types', 'team.types']"
                              [categories]="categories$ | async"
                              [locations]="locations$ | async"
                              [users]="users$ | async"
                              [seasons]="seasons$ | async"
                              [teams]="teams$ | async"
                              [notifications]="notifications"
                              [form]="form">
        </article-edit-sidebar>-->
      </mat-sidenav>
    </div>
  </div>

  <sfw-editor name="text"
             formControlName="text"
             [height]="'75vh'"
             [mode]="'editor'"
             [options]="options"
             required
             maxlength="500">
  </sfw-editor>

</div>

<ng-template #loadingTemplate>
  <loading-indicator></loading-indicator>
</ng-template>


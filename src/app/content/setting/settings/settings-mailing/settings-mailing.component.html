<mat-card [formGroup]="form">
  <mat-card-title>{{'general.applications.mailing.title' | translate}}</mat-card-title>
  <hr/>
  <mat-card-content formArrayName="mailing">

    <p *ngIf="form.get('mailing')['controls'].length === 0">
      {{'general.applications.mailing.noMailLists' | translate}}
    </p>

    <div *ngFor="let control of form.get('mailing')['controls']; let i = index">
      <div fxLayout="column"
           [formGroupName]="i">

        <mat-form-field>
          <input matInput
                 placeholder="{{'general.applications.mailing.fieldTitle' | translate}}"
                 formControlName="title"/>
        </mat-form-field>

        <div>
          <mat-checkbox formControlName="isActive">
            {{'general.applications.mailing.isActive' | translate}}
          </mat-checkbox>
        </div>

        <div>
          <tag-input placeholder="{{'general.applications.mailing.emails' | translate}}"
                     formControlName="emails"
                     [modelAsStrings]="true"
                     [editable]="true">
          </tag-input>
        </div>

        <div style="margin: 25px 0;">
          <button mat-raised-button
                  type="button"
                  color="warn"
                  (click)="deleteMailList(i)">
            {{'general.applications.mailing.deleteMailList' | translate}}
          </button>
        </div>

      </div>
      <hr style="margin-bottom: 30px"/>
    </div>
  </mat-card-content>

  <mat-card-actions>
    <div fxLayout="column"
         fxLayout.gt-sm="row"
         fxLayoutGap="10px">
      <span></span>
      <span fxFlex=""></span>
      <button mat-raised-button
              type="button"
              color="primary"
              (click)="addMailList()">
        {{'general.applications.mailing.addMailList' | translate}}
      </button>
    </div>
  </mat-card-actions>
</mat-card>

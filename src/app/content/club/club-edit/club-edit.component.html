<mat-card [formGroup]="form">
  <mat-card-title>
    <mat-icon>mode_edit</mat-icon>
    {{ club.id ? ('general.menu.club.edit' | translate) : 'general.menu.club.create' | translate }}
  </mat-card-title>
  <mat-card-subtitle></mat-card-subtitle>

  <mat-card-content *ngIf="club; else loadingTemplate">

    <mat-tab-group [dynamicHeight]="true"
                   *ngIf="members$ | async as members; else loadingTemplate">

      <mat-tab label="{{'general.clubs.edit.mainTitle' | translate}}">
        <club-edit-main [club]="club"
                        [locations]="locations$ | async"
                        [members]="members"
                        [form]="form">
        </club-edit-main>
      </mat-tab>

      <mat-tab label="{{ 'general.clubs.edit.historyTitle' | translate }}">
        <!--<club-history (add)="addTimeLineEvent($event)"
                      (delete)="removeTimeLineEvent($event)"
                      (edit)="editTimeLineEvent($event)"
                      (save)="saveTimeLineEvent($event)"
                      [selectedTimeLineEvent]="selectedClubTimeLineEvent"
                      [form]="form">
        </club-history>-->
      </mat-tab>

      <mat-tab label="{{ 'general.clubs.edit.managementTitle' | translate }}">
        <div fxLayout="column"
             fxLayout.gt-sm="row"
             fxLayoutGap="10px">

          <div fxFlex.gt-sm="50">
            <club-management-photo [club]="club"
                                   [form]="form">
            </club-management-photo>
          </div>

          <div fxFlex.gt-sm="50">
            <club-management></club-management>
          </div>

        </div>
        <!--<club-management (add)="addClubManagementPosition()"
                         (delete)="removeClubManagementPosition($event)"
                         (save)="saveClubManagementPosition($event)"
                         [selectedClubManagementPosition]="selectedClubManagementPosition"
                         [members]="members"
                         [showLinks]="true"
                         [club]="club"
                         [positions]="positions$ | async"
                         [form]="form">
        </club-management>-->
      </mat-tab>

      <mat-tab label="{{ 'general.clubs.edit.mediaTitle' | translate }}">
        Dateien
      </mat-tab>

      <mat-tab label="{{ 'general.clubs.edit.honoraries.title' | translate}}">
        <club-honoraries (add)="addHonorary($event)"
                         (delete)="removeHonorary($event)"
                         (save)="saveHonorary($event)"
                         [members]="members | filterBy: ['clubData.status'] : '2'"
                         [selectedHonorary]="selectedHonorary"
                         [form]="form">
        </club-honoraries>
      </mat-tab>

      <!--<mat-tab label="test">
        <pre>{{club | json}}</pre>
      </mat-tab>-->

    </mat-tab-group>
  </mat-card-content>

</mat-card>


<ng-template #loadingTemplate>
  <loading-indicator></loading-indicator>
</ng-template>

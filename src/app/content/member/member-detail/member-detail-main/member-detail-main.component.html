<div fxLayout.gt-sm="row"
     fxLayoutGap="10px"
     fxLayout="column"
     fxLayoutAlign="center start"
     *ngIf="member">

  <div fxFlex="25">
    <h3>{{'general.members.detail.main.person' | translate}}</h3>

    <div fxLayout="column" layout-align="center">
      <div fxLayout.gt-sm="row"
           fxLayout="column"
           class="py-1"
           class="py-1">
        <span class="mat-text-muted">{{'general.members.detail.main.salutation' | translate}}&nbsp;</span>
        <span>{{ 'general.members.detail.main.' + member.mainData.gender | translate}}</span>
      </div>

      <div fxLayout.gt-sm="row"
           fxLayout="column"
           class="py-1"
           class="py-1"
           *ngIf="member.mainData.title">
        <span class="mat-text-muted">{{'general.members.detail.main.salutation' | translate}}&nbsp;</span>
        <span>{{member.mainData.title}}</span>
      </div>

      <div fxLayout.gt-sm="row"
           fxLayout="column"
           class="py-1"
           class="py-1">
        <span class="mat-text-muted">{{'general.members.detail.main.name' | translate}}&nbsp;</span>
        <span>{{member.mainData.firstName}} {{member.mainData.lastName}}</span>
      </div>

      <div fxLayout.gt-sm="row"
           fxLayout="column"
           class="py-1"
           class="py-1">
        <span class="mat-text-muted">{{'general.members.detail.main.birthday' | translate}}&nbsp;</span>
        <span *ngIf="member.mainData.birthday; else noBirthdayTemplate">
          {{member.mainData.birthday | date: 'dd.MM.yy' }}
        ({{ memberService.calculateAge(member.mainData.birthday) }} {{'general.members.detail.main.years' | translate}})
        </span>
      </div>

      <div fxLayout.gt-sm="row"
           fxLayout="column"
           class="py-1"
           class="py-1"
           *ngIf="member.mainData.birthday">
        <span class="mat-text-muted">{{'general.members.detail.main.zodiac' | translate}}&nbsp;</span>
        <span>{{ 'general.members.detail.zodiacList.' + memberService.getZodiac(member.mainData.birthday) | translate }}</span>
      </div>

      <div fxLayout.gt-sm="row"
           fxLayout="column"
           class="py-1"
           class="py-1">
        <span class="mat-text-muted">{{'general.members.detail.main.isImported' | translate}}&nbsp;</span>
        <span>{{ member.driveImport || member.dfbImport ? ('general.yes' | translate) : ('general.no' | translate) }}</span>
      </div>
    </div>
  </div>

  <div fxFlex="25">
    <h3>{{'general.members.detail.main.contact' | translate}}</h3>

    <div fxLayout="column"
         *ngIf="member.contact && (member.contact.email !== '' || member.contact.phoneHome !== '' || member.contact.phoneMobile !== '' || member.contact.phoneWork || member.contact.fax); else noContactTemplate"
         layout-align="center">
      <div fxLayout.gt-sm="row"
           fxLayout="column"
           class="py-1"
           *ngIf="member.contact.email">
        <span class="mat-text-muted">{{'general.members.detail.main.email' | translate}}&nbsp;</span>
        <a href="mailto: {{member.contact.email}}">{{member.contact.email}}</a>
      </div>
      <div fxLayout.gt-sm="row"
           fxLayout="column"
           class="py-1"
           *ngIf="member.contact.phoneHome">
        <span class="mat-text-muted">{{'general.members.detail.main.phoneHome' | translate}}&nbsp;</span>
        <span>{{member.contact.phoneHome}}</span>
      </div>
      <div fxLayout.gt-sm="row"
           fxLayout="column"
           class="py-1"
           *ngIf="member.contact.phoneWork">
        <span class="mat-text-muted">{{'general.members.detail.main.phoneWork' | translate}}&nbsp;</span>
        <span>{{member.contact.phoneWork}}</span>
      </div>
      <div fxLayout.gt-sm="row"
           fxLayout="column"
           class="py-1"
           *ngIf="member.contact.phoneMobile">
        <span class="mat-text-muted">{{'general.members.detail.main.phoneMobile' | translate}}&nbsp;</span>
        <span>{{member.contact.phoneMobile}}</span>
      </div>
      <div fxLayout.gt-sm="row"
           fxLayout="column"
           class="py-1"
           *ngIf="member.contact.fax">
        <span class="mat-text-muted">{{'general.members.detail.main.fax' | translate}}&nbsp;</span>
        <span>{{member.contact.fax}}</span>
      </div>
    </div>

  </div>

  <div fxFlex="25">
    <h3>{{'general.members.detail.main.address' | translate}}</h3>

    <div fxLayout="column"
         *ngIf="member.address; else noAddressTemplate"
         layout-align="center">

      <div fxLayout.gt-sm="row"
           fxLayout="column"
           class="py-1">
        <span class="mat-text-muted">{{'general.street' | translate}}&nbsp;</span>
        <span>{{member.address.streetName}} {{member.address.houseNumber}}</span>
      </div>
      <div fxLayout.gt-sm="row"
           fxLayout="column"
           class="py-1">
        <span class="mat-text-muted">{{'general.city' | translate}}&nbsp;</span>
        <span>{{member.address.zip}} {{member.address.city}}</span>
      </div>
      <div fxLayout.gt-sm="row"
           fxLayout="column"
           class="py-1"
           *ngIf="member.address.county">
        <span class="mat-text-muted">{{'general.county' | translate}}&nbsp;</span>
        <span>{{member.address.county}}</span>
      </div>

    </div>

    <h3 *ngIf="member.comment">{{'general.members.detail.main.comment' | translate}}</h3>
    <div [innerHtml]="member.comment"></div>

  </div>

  <div fxFlex="25">
    <img *ngIf="memberImage | async as image; else loadingTemplate"
         mat-card-image
         [src]="image.downloadURL">
  </div>

</div>

<ng-template #noAddressTemplate>
  <p>{{'general.members.detail.main.noAddress' | translate}}</p>
</ng-template>

<ng-template #noContactTemplate>
  <p>{{'general.members.detail.drive.noContact' | translate}}</p>
</ng-template>

<ng-template #noBirthdayTemplate>
  <p>{{'general.members.detail.drive.noBirthday' | translate}}</p>
</ng-template>

<ng-template #loadingTemplate>
  <loading-indicator></loading-indicator>
</ng-template>

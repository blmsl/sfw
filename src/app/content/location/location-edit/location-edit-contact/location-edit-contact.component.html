<div fxLayout.gt-sm="row"
     fxLayout="column"
     fxLayoutGap="10px"
     [formGroup]="form">

  <h3>{{'general.locations.edit.contactTitle' | translate}}</h3>
  <span fxFlex=""></span>
  <div>
    <button mat-raised-button
            type="button"
            color="primary"
            (click)="addLocationContact.emit()">
      {{ 'general.locations.edit.contact.createContact' | translate}}
    </button>
  </div>
</div>

<div fxLayout="column"
     fxLayoutGap="10px"
     [formGroup]="form">

  <div formArrayName="assignedContacts"
       fxFlex="100"
       *ngFor="let contact of form.controls['assignedContacts']['controls']; let i=index"
       style="margin-bottom: 40px;">

    <div fxLayout.gt-sm="row"
         fxLayout="column"
         fxLayoutGap="10px"
         [formGroup]="form">

      <h3 fxFlex.gt-sm="100">{{'general.locations.edit.contactTitle' | translate}} {{i + 1}}</h3>
      <span fxFlex=""></span>
      <div>

        <button mat-raised-button
                type="button"
                color="warn"
                (click)="removeLocationContact.emit(i)">
          {{ 'general.locations.edit.contact.deleteContact' | translate}}
        </button>
      </div>
    </div>


    <div fxLayout="column">
      <div fxFlex="100"
           [formGroupName]="i">
        <location-contact-form [members]="members"
                               [form]="form.controls['assignedContacts']['controls'][i]">
        </location-contact-form>
      </div>
    </div>

    <hr style="margin: 50px 0"/>
  </div>
</div>

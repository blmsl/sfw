<mat-card>
    <mat-card-title>
        <mat-icon>donut_small</mat-icon>
        {{'general.locations.list.locationsByCategory' | translate}}
    </mat-card-title>
    <mat-card-subtitle></mat-card-subtitle>
    <mat-card-content>
        <ng-container *ngIf="isDataAvailable; else loadingTemplate">

            <div class="alert alert-info" *ngIf="!locations || locations.length === 0">
                <p>{{'general.locations.list.noResult' | translate}}</p>
            </div>

            <div class="alert alert-info" *ngIf="!categories || categories.length === 0">
                <p>{{'general.categories.list.noResult' | translate}}</p>
            </div>

            <canvas *ngIf="locations.length > 0 && categories.length > 0"
                    baseChart
                    class="chart"
                    [data]="doughnutChartData"
                    [labels]="doughnutChartLabels"
                    [options]="doughnutOptions"
                    [chartType]="doughnutChartType"></canvas>
        </ng-container>
    </mat-card-content>
</mat-card>

<ng-template #loadingTemplate>
    <loading-indicator></loading-indicator>
</ng-template>

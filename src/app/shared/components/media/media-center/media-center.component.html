<mat-sidenav #unsplashSidebar
             position="end"
             class="chat-panel"
             mode="over"
             fxFlex="60"
             opened="false">
  <div fxLayout="row"
       fxLayoutWrap="wrap">

    <div fxFlex="100">
      <mat-card>
        <mat-card-title>
          <button type="button"
                  mat-raised-button
                  [color]="warn"
                  (click)="unsplashSidebar.toggle()">Schlie√üen
          </button>
        </mat-card-title>
        <mat-card-content>
          <ul>
            <li>Lade und Speichern von Fotos von unsplash.com</li>
          </ul>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</mat-sidenav>

<div fxLayout="row"
     fxLayoutWrap="wrap">

  <div fxFlex="100">

    <mat-card>
      <mat-card-title>
        <mat-icon>file_upload</mat-icon>
        {{ 'general.media.centerTitle' | translate }}
      </mat-card-title>
      <mat-card-subtitle></mat-card-subtitle>

      <mat-card-content>

        <mat-tab-group *ngIf="mediaItems$ | async as mediaItems; else loadingTemplate"
                       [dynamicHeight]="true">
          <mat-tab label="{{'general.media.list.title' | translate}} {{'(' + mediaItems.length + ')' }}">

            <button mat-raised-button
                    style="margin-bottom: 25px;"
                    color="accent"
                    (click)="mediaGallerySidebar.open(true)"
                    type="button">
              <mat-icon>folder_special</mat-icon>
              {{'general.media.gallery.list' | translate }}
            </button>

            <media-gallery [mediaItems]="mediaItems"
                           (removeMediaItem)="removeMediaItem($event)">
            </media-gallery>

            <mat-sidenav #mediaGallerySidebar
                         position="start"
                         mode="push"
                         opened="false">
              <media-galleries (closeGallerySidebar)="mediaGallerySidebar.close()"></media-galleries>
            </mat-sidenav>

          </mat-tab>
          <mat-tab label="{{'general.media.uploader.title' | translate}}">
            <media-uploader (unsplashSidebar)="unsplashSidebar.toggle()"
                            (uploadCompleted)="uploadCompleted.emit($event)"
                            [uploaderConfig]="uploaderConfig"
                            [uploaderOptions]="uploaderOptions">
            </media-uploader>
          </mat-tab>
        </mat-tab-group>

      </mat-card-content>
    </mat-card>
  </div>
</div>

<ng-template #loadingTemplate>
  <loading-indicator></loading-indicator>
</ng-template>
